
import { Language, CurrencyCode } from './types';

export const translations = {
  en: {
    app_name: 'Veik WMS',
    full_app_name: 'Veik Warehouse Management System',
    dashboard: 'Dashboard',
    inventory: 'Inventory',
    orders: 'Sales Orders',
    purchase_orders: 'Purchase Orders',
    settings: 'Settings',
    relationships: 'Relationships',
    total_sales: 'Total Revenue',
    total_orders: 'Total Orders',
    low_stock: 'Low Stock',
    recent_activity: 'Recent Activity',
    add_product: 'Add Product',
    edit: 'Edit',
    delete: 'Delete',
    save: 'Save',
    cancel: 'Cancel',
    search: 'Search...',
    search_orders: 'Search Order No, Customer...',
    search_pos: 'Search Shipping Ref, Distributor...',
    name: 'Name',
    price: 'Price',
    cost: 'Cost',
    stock: 'Stock',
    category: 'Category',
    unit: 'Unit',
    actions: 'Actions',
    add_to_cart: 'Add',
    cart: 'Cart',
    checkout: 'Checkout',
    total: 'Total',
    payment_method: 'Payment Method',
    cash: 'Cash',
    card: 'Card',
    transfer: 'Transfer',
    confirm_payment: 'Confirm Payment',
    order_success: 'Order successful',
    order_id: 'System ID',
    order_number: 'Order No.', 
    date: 'Date',
    items: 'Items',
    contact: 'Contact',
    optional: 'Optional',
    language: 'Language',
    reset_db: 'Reset Database',
    reset_db_confirm: 'Are you sure? This will delete all data.',
    export_db: 'Backup Data (JSON)',
    import_db: 'Restore Data (JSON)',
    import_success: 'Data restored successfully!',
    import_error: 'Invalid file format.',
    no_data: 'No data available',
    loading: 'Loading system...',
    sales_trend: 'Sales Trend (7 Days)',
    general_info: 'General Info',
    contact_info: 'Contact Info',
    initializing: 'Initializing Database...',
    add_contact: 'Add Contact',
    phone: 'Phone',
    email: 'Email',
    address: 'Address',
    id: 'ID',
    uncategorized: 'Other',
    stock_left: 'left',
    items_suffix: 'items',
    cart_empty: 'Empty',
    subtotal: 'Subtotal',
    walk_in_customer: 'Walk-in',
    walk_in: 'Walk-in',
    error_order: 'Error',
    qty: 'Qty',
    product_id_fallback: 'Product #',
    contact_prefix: 'Contact #',
    data_management: 'Data Management',
    data_management_desc: 'Backup your data regularly. Resetting clears all local data.',
    type: 'Type',
    customer: 'Customer',
    customers: 'Customers',
    distributor: 'Distributor',
    new_order: 'New Order',
    select_product: 'Select Product',
    add_item: 'Add Item',
    create_order: 'Create Order',
    add_customer: 'Add Customer',
    // Login & Roles
    login: 'Login',
    register: 'Register',
    create_account: 'Create Account',
    username: 'Username',
    password: 'Password',
    login_btn: 'Sign In',
    register_btn: 'Sign Up',
    logout: 'Logout',
    role: 'Role',
    admin: 'Admin',
    employee: 'Employee',
    access_denied: 'Access Denied',
    admin_locked: 'Admin account is currently in use by another session.',
    user_exists: 'Username already exists.',
    // Purchase Orders
    expected_arrival: 'Expected Arrival',
    status: 'Status',
    status_ordered: 'Ordered',
    status_shipped: 'Shipped',
    status_received: 'Received',
    create_po: 'Create Purchase Order',
    receive_goods: 'Receive Goods',
    po_received_msg: 'Goods received. Stock updated.',
    distributor_required: 'Distributor Required',
    shipping_placeholder: 'Tracking / Container No.',
    // Categories & Units
    manage_categories: 'Categories',
    manage_units: 'Units',
    add_category: 'Add Category',
    add_unit: 'Add Unit',
    category_name: 'Category Name',
    unit_name: 'Unit Name',
    select_category: 'Select Category',
    select_unit: 'Select Unit',
    incoming_stock: 'Incoming',
    // Sales Rep
    sales_rep: 'Sales Rep',
    sales_reps: 'Sales Reps',
    select_sales_rep: 'Select Sales Rep',
    // New Fields
    deposit: 'Deposit',
    balance_due: 'Balance Due',
    unit_price: 'Unit Price',
    enter_order_no: 'Enter Order Number',
    enter_tracking_no: 'Enter Tracking/Container No',
    // Settings Revamp
    user_management: 'User Management',
    add_user: 'Add User',
    system_config: 'System Configuration',
    low_stock_threshold: 'Low Stock Alert Threshold',
    backup_restore: 'Backup & Restore',
    download_backup: 'Download Backup',
    restore_backup: 'Restore from File',
    users: 'Users',
    delete_user_confirm: 'Delete this user?',
    tax_rate: 'Tax Rate (%)',
    currency_settings: 'Currency Settings',
    display_currency: 'Display Currency',
    exchange_rate: 'Exchange Rate',
    get_live_rate: 'Get Today\'s Rate',
    base_currency_note: 'Base currency is AED. Changing display currency only affects what you see, not the stored data.',
    settings_saved: 'Settings Saved',
  },
  zh: {
    app_name: 'Veik WMS',
    full_app_name: 'Veik 仓储管理系统',
    dashboard: '概览',
    inventory: '库存',
    orders: '销售订单',
    purchase_orders: '进货单',
    settings: '系统设置',
    relationships: '关系管理',
    total_sales: '总销售额',
    total_orders: '总订单数',
    low_stock: '低库存',
    recent_activity: '最新动态',
    add_product: '添加商品',
    edit: '编辑',
    delete: '删除',
    save: '保存',
    cancel: '取消',
    search: '搜索...',
    search_orders: '搜索单号、客户...',
    search_pos: '搜索物流单号、经销商...',
    name: '名称',
    price: '售价',
    cost: '成本',
    stock: '库存',
    category: '分类',
    unit: '单位',
    actions: '操作',
    add_to_cart: '添加',
    cart: '购物车',
    checkout: '结账',
    total: '总计',
    payment_method: '支付方式',
    cash: '现金',
    card: '刷卡',
    transfer: '转账',
    confirm_payment: '确认支付',
    order_success: '订单创建成功',
    order_id: '系统ID',
    order_number: '销售单号',
    date: '日期',
    items: '商品',
    contact: '联系人',
    optional: '选填',
    language: '语言',
    reset_db: '清空数据库',
    reset_db_confirm: '确定吗？这将清空所有数据且无法恢复。',
    export_db: '备份数据 (JSON)',
    import_db: '恢复数据 (JSON)',
    import_success: '数据恢复成功！',
    import_error: '文件格式错误。',
    no_data: '暂无数据',
    loading: '系统加载中...',
    sales_trend: '销售趋势 (7天)',
    general_info: '基本信息',
    contact_info: '联系方式',
    initializing: '初始化数据库...',
    add_contact: '添加联系人',
    phone: '电话',
    email: '邮箱',
    address: '地址',
    id: 'ID',
    uncategorized: '其他',
    stock_left: '剩余',
    items_suffix: '件',
    cart_empty: '空',
    subtotal: '小计',
    walk_in_customer: '散客',
    walk_in: '散客',
    error_order: '错误',
    qty: '数量',
    product_id_fallback: '商品 #',
    contact_prefix: '联系人 #',
    data_management: '数据管理',
    data_management_desc: '建议定期备份数据。清空数据库将删除所有本地记录。',
    type: '类型',
    customer: '客户',
    customers: '客户列表',
    distributor: '经销商',
    new_order: '新建订单',
    select_product: '选择商品',
    add_item: '添加商品',
    create_order: '创建订单',
    add_customer: '添加客户',
    // Login & Roles
    login: '登录',
    register: '注册账号',
    create_account: '创建新账号',
    username: '用户名',
    password: '密码',
    login_btn: '登录',
    register_btn: '立即注册',
    logout: '退出登录',
    role: '角色',
    admin: '管理员',
    employee: '员工',
    access_denied: '用户名或密码错误',
    admin_locked: '管理员账号当前正在被使用，禁止重复登录。',
    user_exists: '用户名已存在',
    // Purchase Orders
    expected_arrival: '预计到达',
    status: '状态',
    status_ordered: '已下单',
    status_shipped: '已发货',
    status_received: '已入库',
    create_po: '新建进货单',
    receive_goods: '确认收货入库',
    po_received_msg: '已收货，库存已更新。',
    distributor_required: '必须选择经销商',
    shipping_placeholder: '货运/物流单号',
    // Categories & Units
    manage_categories: '分类管理',
    manage_units: '单位管理',
    add_category: '添加分类',
    add_unit: '添加单位',
    category_name: '分类名称',
    unit_name: '单位名称',
    select_category: '选择分类',
    select_unit: '选择单位',
    incoming_stock: '在途',
    // Sales Rep
    sales_rep: '销售人员',
    sales_reps: '销售团队',
    select_sales_rep: '选择销售人员',
    // New Fields
    deposit: '定金',
    balance_due: '尾款 / 余额',
    unit_price: '销售单价',
    enter_order_no: '请输入销售单号 (必填)',
    enter_tracking_no: '请输入物流/货柜单号 (必填)',
    // Settings Revamp
    user_management: '用户权限管理',
    add_user: '添加用户',
    system_config: '业务参数配置',
    low_stock_threshold: '低库存预警阈值',
    backup_restore: '数据备份与恢复',
    download_backup: '下载备份文件',
    restore_backup: '从文件恢复数据',
    users: '账号列表',
    delete_user_confirm: '确定删除该用户？',
    tax_rate: '默认税率 (%)',
    currency_settings: '货币设置',
    display_currency: '显示货币',
    exchange_rate: '汇率 (相对于 AED)',
    get_live_rate: '获取今日汇率',
    base_currency_note: '系统基准货币为 AED (迪拉姆)。切换显示货币仅影响展示数值，不改变数据库存储的原始金额。',
    settings_saved: '设置已保存',
  }
};

export const formatCurrency = (amount: number, lang: Language, currencyCode: CurrencyCode = 'AED') => {
  const currencyMap: Record<string, string> = {
    'AED': 'AED',
    'USD': 'USD',
    'CNY': 'CNY'
  };

  const currencyStr = currencyMap[currencyCode] || 'AED';

  return new Intl.NumberFormat(lang === 'en' ? 'en-US' : 'zh-CN', {
    style: 'currency',
    currency: currencyStr,
  }).format(amount);
};

export const formatDate = (dateString: string, lang: Language) => {
  if (!dateString) return '-';
  if (dateString.length === 10) return dateString;
  return new Date(dateString).toLocaleDateString(lang === 'en' ? 'en-US' : 'zh-CN');
};
